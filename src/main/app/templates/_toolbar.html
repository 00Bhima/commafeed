<div ng-controller="ToolbarCtrl">
	<div class="form-horizontal">
		<div class="btn-group" ng-if="MobileService.mobile">
			<button type="button" class="btn btn-default" ng-click="MobileService.toggleLeftMenu()">
				<i class="icon-list-alt"></i>
			</button>
		</div>

		<div class="btn-group">
			<a type="button" class="btn btn-default" ng-click="previousEntry()" title="${toolbar.previous_entry}">
				<i class="icon-chevron-up"></i>
			</a>
			<a type="button" class="btn btn-default" ng-click="nextEntry()" title="${toolbar.next_entry}">
				<i class="icon-chevron-down"></i>
			</a>
			<div class="btn-group">
				<a type="button" class="btn btn-default" ng-click="refresh()" title="${toolbar.refresh}">
					<i class="icon-refresh"></i>
				</a>
				<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu pull-right">
					<li>
						<a ng-click="refreshAll()">${toolbar.refresh_all}</a>
					</li>
				</ul>
			</div>
		</div>

		<div class="btn-group">
			<a type="button" class="btn btn-default" ng-click="markAllAsRead()" title="${toolbar.mark_all_as_read}">
				<i class="icon-ok"></i>
			</a>
			<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				<span class="caret"></span>
			</button>
			<ul class="dropdown-menu pull-right">
				<li>
					<a ng-click="markAll12Hours()">${toolbar.mark_all_older_12_hours}</a>
				</li>
				<li>
					<a ng-click="markAllDay()">${toolbar.mark_all_older_day}</a>
				</li>
				<li>
					<a ng-click="markAllWeek()">${toolbar.mark_all_older_week}</a>
				</li>
				<li>
					<a ng-click="markAllTwoWeeks()">${toolbar.mark_all_older_two_weeks}</a>
				</li>
			</ul>
		</div>

		<div class="btn-group toolbar-expand" ng-if="MobileService.mobile">
			<button type="button" class="btn btn-default" ng-click="MobileService.toggleRightMenu()">
				<i ng-class="{'icon-double-angle-right' : !MobileService.rightMenu, 'icon-double-angle-left': MobileService.rightMenu}"></i>
			</button>
		</div>

		<div class="actions btn-group">
			<div ng-if="!MobileService.mobile || MobileService.rightMenu">
				<div class="btn-group read-mode">
					<button type="button" class="btn btn-default" ng-click="settingsService.settings.readingMode = 'unread'"
						ng-class="{'active': settingsService.settings.readingMode == 'unread'}">${toolbar.unread}</button>
					<button type="button" class="btn btn-default" ng-click="settingsService.settings.readingMode = 'all'"
						ng-class="{'active': settingsService.settings.readingMode == 'all'}">${toolbar.all}</button>
				</div>

				<div class="btn-group">
					<a type="button" class="btn btn-default" ng-click="toggleOrder()" title="${toolbar.sort_by_asc_desc}">
						<i
							ng-class="{'icon-arrow-up' : settingsService.settings.readingOrder == 'asc', 'icon-arrow-down': settingsService.settings.readingOrder == 'desc'}"></i>
					</a>
				</div>

				<div class="btn-group">
					<a type="button" class="btn btn-default" ng-click="settingsService.settings.viewMode = 'title'"
						ng-class="{'active': settingsService.settings.viewMode == 'title'}" title="${toolbar.titles_only}">
						<i class="icon-list"></i>
					</a>
					<a type="button" class="btn btn-default" ng-click="settingsService.settings.viewMode = 'expanded'"
						ng-class="{'active': settingsService.settings.viewMode == 'expanded'}" title="${toolbar.expanded_view}">
						<i class="icon-th-list"></i>
					</a>
				</div>

				<div class="btn-group">
					<a class="btn btn-default" ng-click="toSettings()" title="${toolbar.settings}">
						<i class="icon-cog"></i>
					</a>
					<button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu pull-right">
						<li>
							<a ng-click="toProfile()">
								<i class="icon-user"></i>
								${toolbar.profile}
							</a>
						</li>
						<li ng-show="session.admin">
							<a ng-click="toAdmin()">
								<i class="icon-edit"></i>
								${toolbar.admin}
							</a>
						</li>
						<li class="divider"></li>
						<li>
							<a href="logout">
								<i class="icon-off"></i>
								${toolbar.logout}
							</a>
						</li>
					</ul>
				</div>
				<div class="btn-group">
					<form ng-submit="search()" class="input-group keywords" ng-if="!MobileService.mobile">
						<input type="text" class="form-control" ng-model="keywords"></input>
						<span class="input-group-btn">
							<button class="btn btn-default" type="submit">
								<i class="icon-search"></i>
							</button>
						</span>
					</form>
				</div>
				<div class="btn-group donate">
					<a class="btn btn-success" type="button" ng-click="toHelp()" title="${toolbar.about} / ${toolbar.donate}">
						<i class="icon-info-sign"></i>
					</a>
				</div>

			</div>
		</div>
		<span ng-if="!MobileService.mobile" ng-bind-html="ServerService.announcement | trustHtml"></span>
	</div>
</div>